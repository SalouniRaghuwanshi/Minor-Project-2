/*
 * jQuery FlexSlider v1.8
 * http://www.woothemes.com/flexslider/
 *
 * Copyright 2012 WooThemes
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Contributing Author: Tyler Smith
 */
!function(w){w.flexslider=function(g,x){var S=w(g);w.data(g,"flexslider",S),S.init=function(){if(S.vars=w.extend({},w.flexslider.defaults,x),w.data(g,"flexsliderInit",!0),S.container=w(".slides",S).first(),S.slides=w(".slides:first > li",S),S.count=S.slides.length,S.animating=!1,S.currentSlide=S.vars.slideToStart,S.animatingTo=S.currentSlide,S.atEnd=0==S.currentSlide,S.eventType="ontouchstart"in document.documentElement?"touchstart":"click",S.cloneCount=0,S.cloneOffset=0,S.manualPause=!1,S.touchEvents=S.vars.touchEvents,S.vertical="vertical"==S.vars.slideDirection,S.prop=S.vertical?"top":"marginLeft",S.args={},S.transitions="webkitTransition"in document.body.style,S.transitions&&(S.prop="-webkit-transform"),""!=S.vars.controlsContainer&&(S.controlsContainer=w(S.vars.controlsContainer).eq(w(".slides").index(S.container)),S.containerExists=0<S.controlsContainer.length),""!=S.vars.touchEvents&&(S.vars.touchEvents?S.touchEvents=!0:S.touchEvents=!1),""!=S.vars.manualControls&&(S.manualControls=w(S.vars.manualControls,S.containerExists?S.controlsContainer:S),S.manualExists=0<S.manualControls.length),S.vars.randomize&&(S.slides.sort(function(){return Math.round(Math.random())-.5}),S.container.empty().append(S.slides)),"slide"==S.vars.animation.toLowerCase()){S.transitions&&S.setTransition(0),S.css({overflow:"hidden"}),S.vars.animationLoop&&(S.cloneCount=2,S.cloneOffset=1,S.container.append(S.slides.filter(":first").clone().addClass("clone")).prepend(S.slides.filter(":last").clone().addClass("clone"))),S.newSlides=w(".slides:first > li",S);var e=-1*(S.currentSlide+S.cloneOffset);S.vertical?(S.newSlides.css({display:"block",width:"100%",float:"left"}),S.container.height(200*(S.count+S.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){S.css({position:"relative"}).height(S.slides.filter(":first").height()),S.args[S.prop]=S.transitions?"translate3d(0,"+e*S.height()+"px,0)":e*S.height()+"px",S.container.css(S.args)},100)):(S.args[S.prop]=S.transitions?"translate3d("+e*S.width()+"px,0,0)":e*S.width()+"px",S.container.width(200*(S.count+S.cloneCount)+"%").css(S.args),setTimeout(function(){S.newSlides.width(S.width()).css({float:"left",display:"block"})},100))}else S.transitions=!1,S.slides.css({width:"100%",float:"left",marginRight:"-100%"}).eq(S.currentSlide).fadeIn(S.vars.animationDuration);if(S.vars.controlNav){if(S.manualExists)S.controlNav=S.manualControls;else{for(var t=w('<ol class="flex-control-nav"></ol>'),a=1,n=0;n<S.count;n++)t.append("<li><a>"+a+"</a></li>"),a++;S.containerExists?(w(S.controlsContainer).append(t),S.controlNav=w(".flex-control-nav li a",S.controlsContainer)):(S.append(t),S.controlNav=w(".flex-control-nav li a",S))}S.controlNav.eq(S.currentSlide).addClass("active"),S.controlNav.bind(S.eventType,function(e){e.preventDefault(),w(this).hasClass("active")||(S.controlNav.index(w(this))>S.currentSlide?S.direction="next":S.direction="prev",S.flexAnimate(S.controlNav.index(w(this)),S.vars.pauseOnAction))})}if(S.vars.directionNav){var i=w('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+S.vars.prevText+'</a></li><li><a class="next" href="#">'+S.vars.nextText+"</a></li></ul>");S.containerExists?(w(S.controlsContainer).append(i),S.directionNav=w(".flex-direction-nav li a",S.controlsContainer)):(S.append(i),S.directionNav=w(".flex-direction-nav li a",S)),S.vars.animationLoop||(0==S.currentSlide?S.directionNav.filter(".prev").addClass("disabled"):S.currentSlide==S.count-1&&S.directionNav.filter(".next").addClass("disabled")),S.directionNav.bind(S.eventType,function(e){e.preventDefault();var t=w(this).hasClass("next")?S.getTarget("next"):S.getTarget("prev");S.canAdvance(t)&&S.flexAnimate(t,S.vars.pauseOnAction)})}if(S.vars.keyboardNav&&1==w("ul.slides").length){w(document).bind("keyup",function(e){if(!S.animating&&(39==e.keyCode||37==e.keyCode)){if(39==e.keyCode)var t=S.getTarget("next");else 37==e.keyCode&&(t=S.getTarget("prev"));S.canAdvance(t)&&S.flexAnimate(t,S.vars.pauseOnAction)}})}if(S.vars.mousewheel&&(S.mousewheelEvent=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",S.bind(S.mousewheelEvent,function(e){e.preventDefault();var t=((e=e||window.event).detail?-1*e.detail:e.originalEvent.wheelDelta/40)<0?S.getTarget("next"):S.getTarget("prev");S.canAdvance(t)&&S.flexAnimate(t,S.vars.pauseOnAction)})),S.vars.slideshow&&(S.vars.pauseOnHover&&S.vars.slideshow&&S.hover(function(){S.pause()},function(){S.manualPause||S.resume()}),S.animatedSlides=setInterval(S.animateSlides,S.vars.slideshowSpeed)),S.vars.pausePlay){var s=w('<div class="flex-pauseplay"><span></span></div>');S.containerExists?(S.controlsContainer.append(s),S.pausePlay=w(".flex-pauseplay span",S.controlsContainer)):(S.append(s),S.pausePlay=w(".flex-pauseplay span",S));var r=S.vars.slideshow?"pause":"play";S.pausePlay.addClass(r).text("pause"==r?S.vars.pauseText:S.vars.playText),S.pausePlay.bind(S.eventType,function(e){e.preventDefault(),w(this).hasClass("pause")?(S.pause(),S.manualPause=!0):(S.resume(),S.manualPause=!1)})}if("ontouchstart"in document.documentElement){var o,l,c,d,u,v,p=!1;function f(e){S.animating?e.preventDefault():1==e.touches.length&&(S.pause(),d=S.vertical?S.height():S.width(),v=Number(new Date),c=S.vertical?(S.currentSlide+S.cloneOffset)*S.height():(S.currentSlide+S.cloneOffset)*S.width(),o=S.vertical?e.touches[0].pageY:e.touches[0].pageX,l=S.vertical?e.touches[0].pageX:e.touches[0].pageY,S.setTransition(0),S.touchEvents?(this.addEventListener("touchmove",h,!1),this.addEventListener("touchend",m,!1),console.log("touchmove")):(S.pause(),console.log("pause slider")))}function h(e){u=S.vertical?o-e.touches[0].pageY:o-e.touches[0].pageX,(p=S.vertical?Math.abs(u)<Math.abs(e.touches[0].pageX-l):Math.abs(u)<Math.abs(e.touches[0].pageY-l))||(e.preventDefault(),"slide"==S.vars.animation&&S.transitions&&(S.vars.animationLoop||(u/=0==S.currentSlide&&u<0||S.currentSlide==S.count-1&&0<u?Math.abs(u)/d+2:1),S.args[S.prop]=S.vertical?"translate3d(0,"+(-c-u)+"px,0)":"translate3d("+(-c-u)+"px,0,0)",S.container.css(S.args)))}function m(e){if(S.animating=!1,S.animatingTo==S.currentSlide&&!p&&null!=u){var t=0<u?S.getTarget("next"):S.getTarget("prev");S.canAdvance(t)&&Number(new Date)-v<550&&20<Math.abs(u)||Math.abs(u)>d/2?S.flexAnimate(t,S.vars.pauseOnAction):S.flexAnimate(S.currentSlide,S.vars.pauseOnAction)}this.removeEventListener("touchmove",h,!1),this.removeEventListener("touchend",m,!1),c=u=l=o=null}S.each(function(){"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",f,!1)})}"slide"==S.vars.animation.toLowerCase()&&w(window).resize(function(){!S.animating&&S.is(":visible")&&(S.vertical?(S.height(S.slides.filter(":first").height()),S.args[S.prop]=-1*(S.currentSlide+S.cloneOffset)*S.slides.filter(":first").height()+"px"):(S.newSlides.width(S.width()),S.args[S.prop]=-1*(S.currentSlide+S.cloneOffset)*S.width()+"px"),S.transitions&&(S.setTransition(0),S.args[S.prop]=S.vertical?"translate3d(0,"+S.args[S.prop]+",0)":"translate3d("+S.args[S.prop]+",0,0)"),S.container.css(S.args))}),S.vars.start(S)},S.flexAnimate=function(e,t){if(!S.animating&&S.is(":visible"))if(S.animating=!0,S.animatingTo=e,S.vars.before(S),t&&S.pause(),S.vars.controlNav&&S.controlNav.removeClass("active").eq(e).addClass("active"),S.atEnd=0==e||e==S.count-1,!S.vars.animationLoop&&S.vars.directionNav&&(0==e?S.directionNav.removeClass("disabled").filter(".prev").addClass("disabled"):e==S.count-1?S.directionNav.removeClass("disabled").filter(".next").addClass("disabled"):S.directionNav.removeClass("disabled")),S.vars.animationLoop||e!=S.count-1||(S.pause(),S.vars.end(S)),"slide"==S.vars.animation.toLowerCase()){var a=S.vertical?S.slides.filter(":first").height():S.slides.filter(":first").width();0==S.currentSlide&&e==S.count-1&&S.vars.animationLoop&&"next"!=S.direction?S.slideString="0px":S.currentSlide==S.count-1&&0==e&&S.vars.animationLoop&&"prev"!=S.direction?S.slideString=-1*(S.count+1)*a+"px":S.slideString=-1*(e+S.cloneOffset)*a+"px",S.args[S.prop]=S.slideString,S.transitions?(S.setTransition(S.vars.animationDuration),S.args[S.prop]=S.vertical?"translate3d(0,"+S.slideString+",0)":"translate3d("+S.slideString+",0,0)",S.container.css(S.args).one("webkitTransitionEnd transitionend",function(){S.wrapup(a)})):S.container.animate(S.args,S.vars.animationDuration,function(){S.wrapup(a)})}else S.slides.eq(S.currentSlide).fadeOut(S.vars.animationDuration),S.slides.eq(e).fadeIn(S.vars.animationDuration,function(){S.wrapup()})},S.wrapup=function(e){"slide"==S.vars.animation&&(0==S.currentSlide&&S.animatingTo==S.count-1&&S.vars.animationLoop?(S.args[S.prop]=-1*S.count*e+"px",S.transitions&&(S.setTransition(0),S.args[S.prop]=S.vertical?"translate3d(0,"+S.args[S.prop]+",0)":"translate3d("+S.args[S.prop]+",0,0)"),S.container.css(S.args)):S.currentSlide==S.count-1&&0==S.animatingTo&&S.vars.animationLoop&&(S.args[S.prop]=-1*e+"px",S.transitions&&(S.setTransition(0),S.args[S.prop]=S.vertical?"translate3d(0,"+S.args[S.prop]+",0)":"translate3d("+S.args[S.prop]+",0,0)"),S.container.css(S.args))),S.animating=!1,S.currentSlide=S.animatingTo,S.vars.after(S)},S.animateSlides=function(){S.animating||S.flexAnimate(S.getTarget("next"))},S.pause=function(){clearInterval(S.animatedSlides),S.vars.pausePlay&&S.pausePlay.removeClass("pause").addClass("play").text(S.vars.playText)},S.resume=function(){S.animatedSlides=setInterval(S.animateSlides,S.vars.slideshowSpeed),S.vars.pausePlay&&S.pausePlay.removeClass("play").addClass("pause").text(S.vars.pauseText)},S.canAdvance=function(e){return!(!S.vars.animationLoop&&S.atEnd)||(0!=S.currentSlide||e!=S.count-1||"next"==S.direction)&&(S.currentSlide!=S.count-1||0!=e||"next"!=S.direction)},S.getTarget=function(e){return"next"==(S.direction=e)?S.currentSlide==S.count-1?0:S.currentSlide+1:0==S.currentSlide?S.count-1:S.currentSlide-1},S.setTransition=function(e){S.container.css({"-webkit-transition-duration":e/1e3+"s"})},S.init()},w.flexslider.defaults={animation:"fade",slideDirection:"horizontal",slideshow:!0,slideshowSpeed:7e3,animationDuration:600,directionNav:!0,controlNav:!0,keyboardNav:!0,mousewheel:!1,prevText:"Previous",nextText:"Next",pausePlay:!1,pauseText:"Pause",playText:"Play",randomize:!1,slideToStart:0,animationLoop:!0,pauseOnAction:!0,pauseOnHover:!1,touchEvents:!0,controlsContainer:"",manualControls:"",start:function(){},before:function(){},after:function(){},end:function(){}},w.fn.flexslider=function(e){return this.each(function(){1==w(this).find(".slides > li").length?w(this).find(".slides > li").fadeIn(400):1!=w(this).data("flexsliderInit")&&new w.flexslider(this,e)})}}(jQuery);