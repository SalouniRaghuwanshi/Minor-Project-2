!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(i,a){var r=6,o=i.event.add,d=i.event.remove,c=function(t,e,n){i.event.trigger(e,n,t)},s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(function(){t()},25)},u={textarea:!0,input:!0,select:!0,button:!0},f={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},m="touchmove",v="touchend",t="touchend";function p(t){var n=t,i=!1,a=!1;function e(t){i?(n(),s(e),i=!(a=!0)):a=!1}this.kick=function(t){i=!0,a||e()},this.end=function(t){var e=n;t&&(a?(n=i?function(){e(),t()}:t,i=!0):t())}}function e(){return!0}function l(){return!1}function n(t){t.preventDefault()}function g(t){u[t.target.tagName.toLowerCase()]||t.preventDefault()}function h(t,e){var n,i;if(t.identifiedTouch)return t.identifiedTouch(e);for(n=-1,i=t.length;++n<i;)if(t[n].identifier===e)return t[n]}function w(t,e){var n=h(t.changedTouches,e.identifier);if(n&&(n.pageX!==e.pageX||n.pageY!==e.pageY))return n}function y(t){k(t,t.data,t,Y)}function X(t){Y()}function Y(){d(document,f.move,y),d(document,f.cancel,X)}function T(t){var e=t.data,n=w(t,e);n&&k(t,e,n,_)}function S(t){var e=t.data;h(t.changedTouches,e.identifier)&&_(e.identifier)}function _(t){d(document,"."+t,T),d(document,"."+t,S)}function k(t,e,n,i){var a=n.pageX-e.startX,o=n.pageY-e.startY;a*a+o*o<r*r||function(t,e,n,i,a,o){var r,d;e.target;r=t.targetTouches,d=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=i,e.distY=a,e.deltaX=i,e.deltaY=a,e.pageX=n.pageX,e.pageY=n.pageY,e.velocityX=i/d,e.velocityY=a/d,e.targetTouches=r,e.finger=r?r.length:1,e._handled=D,e._preventTouchmoveDefault=function(){t.preventDefault()},c(e.target,e),o(e.identifier)}(t,e,n,a,o,i)}function D(){return this._handled=e,!1}function b(t){t._handled()}function x(t){var e=t.data.timer;(t.data.touch=t).data.timeStamp=t.timeStamp,e.kick()}function C(t){var e=t.data.event,n=t.data.timer;d(document,f.move,x),d(document,f.end,C),F(e,n,function(){setTimeout(function(){d(e.target,"click",l)},0)})}function q(t){var e=t.data.event,n=t.data.timer,i=w(t,e);i&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=i,t.data.timeStamp=t.timeStamp,n.kick())}function A(t){var e=t.data.event,n=t.data.timer;h(t.changedTouches,e.identifier)&&(function(t){d(document,"."+t.identifier,q),d(document,"."+t.identifier,A)}(e),F(e,n))}function F(t,e,n){e.end(function(){return t.type="moveend",c(t.target,t),n&&n()})}i.event.special.movestart={setup:function(t,e,n){return o(this,"movestart.move",b),!0},teardown:function(t){return d(this,"dragstart drag",n),d(this,"mousedown touchstart",g),d(this,"movestart",b),!0},add:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(o(this,"dragstart."+t.guid+" drag."+t.guid,n,a,t.selector),o(this,"mousedown."+t.guid,g,a,t.selector))},remove:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(d(this,"dragstart."+t.guid+" drag."+t.guid),d(this,"mousedown."+t.guid))},_default:function(e){var n,i;e._handled()&&(n={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},i={event:n,timer:new p(function(t){!function(t,e,n){var i=n-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/i,t.velocityY=.3*t.velocityY+.7*t.deltaY/i,t.pageX=e.pageX,t.pageY=e.pageY}(n,i.touch,i.timeStamp),c(e.target,n)}),touch:a,timeStamp:a},e.identifier===a?(o(e.target,"click",l),o(document,f.move,x,i),o(document,f.end,C,i)):(e._preventTouchmoveDefault(),o(document,m+"."+e.identifier,q,i),o(document,t+"."+e.identifier,A,i)))}},i.event.special.move={setup:function(){o(this,"movestart.move",i.noop)},teardown:function(){d(this,"movestart.move",i.noop)}},i.event.special.moveend={setup:function(){o(this,"movestart.moveend",i.noop)},teardown:function(){d(this,"movestart.moveend",i.noop)}},o(document,"mousedown.move",function(t){var e;!function(t){return 1===t.which&&!t.ctrlKey&&!t.altKey}(t)||(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},o(document,f.move,y,e),o(document,f.cancel,X,e))}),o(document,"touchstart.move",function(t){var e,n;u[t.target.tagName.toLowerCase()]||(n={target:(e=t.changedTouches[0]).target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},o(document,m+"."+e.identifier,T,n),o(document,v+"."+e.identifier,S,n))}),"function"==typeof Array.prototype.indexOf&&function(t){for(var e=["changedTouches","targetTouches"],n=e.length;n--;)-1===t.event.props.indexOf(e[n])&&t.event.props.push(e[n])}(i)}),function(g){g.fn.twentytwenty=function(l){l=g.extend({default_offset_pct:.5,orientation:"horizontal"},l);return this.each(function(){var e=l.default_offset_pct,n=g(this),i=l.orientation,t="vertical"===i?"down":"left",a="vertical"===i?"up":"right",o=n.find("img:nth-child(3)");n.wrap("<div class='twentytwenty-wrapper twentytwenty-"+i+"'></div>"),n.append("<div class='twentytwenty-overlay'></div>");var r=n.find("img:first"),d=n.find("img:last");n.append("<div class='twentytwenty-handle'></div>");var c=n.find(".twentytwenty-handle");c.append("<span class='twentytwenty-"+t+"-arrow'></span>"),c.append("<span class='twentytwenty-"+a+"-arrow'></span>"),n.addClass("twentytwenty-container"),r.addClass("twentytwenty-before"),d.addClass("twentytwenty-after");var s=n.find(".twentytwenty-overlay");s.append("<div class='twentytwenty-before-label'></div>"),s.append("<div class='twentytwenty-after-label'></div>");function u(t){var e=function(t){var e=r.width(),n=r.height();return{w:e+"px",h:n+"px",cw:t*e+"px",ch:t*n+"px"}}(t);c.css("vertical"===i?"top":"left","vertical"===i?e.ch:e.cw),function(t){"vertical"===i?r.css("clip","rect(0,"+t.w+","+t.ch+",0)"):r.css("clip","rect(0,"+t.cw+","+t.h+",0)"),n.css("height",t.h)}(e)}g(window).on("resize.twentytwenty",function(t){u(e)});var f=0,m=0,v=0,p=0;c.on("movestart",function(t){(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==i?t.preventDefault():(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===i&&t.preventDefault(),n.addClass("active"),f=n.offset().left,m=n.offset().top,v=r.width(),p=r.height(),o.css("visibility","hidden")}),c.on("moveend",function(t){n.removeClass("active"),o.css("visibility","")}),c.on("move",function(t){n.hasClass("active")&&((e="vertical"===i?(t.pageY-m)/p:(t.pageX-f)/v)<0&&(e=0),1<e&&(e=1),u(e))}),n.find("img").on("mousedown",function(t){t.preventDefault()}),g(window).trigger("resize.twentytwenty")})}}(jQuery);